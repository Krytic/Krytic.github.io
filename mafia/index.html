<!doctype html>
<!DOCTYPE html>
<html>
	<head>
		<title>Mafia</title>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css" />
		<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" />
		<link rel="stylesheet" href="master.css" />

		<link rel="shortcut icon" href="favicon.ico" />
		<link rel="apple-touch-icon" href="apple-touch-icon.png" />
	</head>
	<body>
		<section class="hero has-text-centered is-primary" id="header">
			<div class="hero-body">
				<div class="container">
					<h1 class="title game-title">
						Mafia
					</h1>
					<h2 class="subtitle">
						the premier mafia game controller
					</h2>
				</div>
			</div>
		</section>
		<br />
		<div class="columns">
			<div class="column is-one-quarter container is-fluid">
				<nav class="panel" id="playerlist">
					<p class="panel-heading">
						players
					</p>
					<div class="panel-block" id="no-players">
						<em>no players yet</em>
					</div>
				</nav>
				<div class="field" id="add-player-box">
					<label class="label">add player</label>
					<div class="control has-icons-left has-icons-right">
						<input class="input" name="new-player" id="new-player" type="text" placeholder="player's name">
						<span class="icon is-small is-left">
							<i class="fas fa-user"></i>
						</span>
					</div>
				</div>
				<hr />
				<button class="button is-dark is-large is-fullwidth" id="begin-game" style="margin-bottom: 20px;">begin game</button>
				<button class="button is-info is-large is-fullwidth" id="get-url" style="margin-bottom: 20px;">save state</button>
				<button class="button is-primary is-large is-fullwidth" id="next-player">show next player</button>
				<h1 class="title is-2" id="dead-players-title"></h1>
				<div id="dead-players-qrcode"></div>
			</div>
			<div class="column container has-text-centered is-fluid" id="game_panel">
				<div id="messages"><h1 class="title is-1 game-title">game guide</h1></div>
				<hr />
				<div id="active-qrcode">
					Add at least <strong>4</strong> players to the game. Players learn their role by, in order of being added, scanning a QR Code shown on their phones. The roles are Mafia, Sheriff, Nurse, Town. There are <code>min(3, floor(n/3))</code> mafia at a time (where n is the number of players). Each player MUST have a unique name (if you have two Doug's, for example, use their last initials as well, maybe Doug A. and Doug S.)
					<br />
					<br />
					The "save state" button saves the current player list in an encoded URL and copies this to your clipboard. This means you can set up a game in advance and play it later on.
				</div>
				<br />
				<h1 class="title is-4" id="current-player-shown"></h1>
			</div>

			<div class="toast jam" aria-hidden="true">
				<span class="close" aria-role="button" tabindex="0">&times;</span>
				State saved to clipboard
			</div>
		</div>

		<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script defer src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
		<script type="text/javascript" src="xor_encode.js"></script>
		<script type="text/javascript" src="toasts.js"></script>
		<script type="text/javascript" src="master.js"></script>
	</body>
</html>